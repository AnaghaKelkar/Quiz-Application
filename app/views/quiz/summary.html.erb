<style>
  table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
  }

  td, th {
    border: 1px solid #ABB2B9;
    text-align: left;
    padding: 8px;
  }

  tr:nth-child(even) {
    background-color: #dddddd;
  }
</style>
<div class="container">
  <div class="row">
    <center>
      <br>
      <div class="big-font"><b><u>Summary</u></b></div>
      <br><br>
      <div>
        <table class="table">
          <tbody>
            <tr>
              <td>Category</td>
              <td>Total Questions</td>
              <td>Questions answered</td>
              <td>Correct Answers</td>
              <td>Wrong Answers</td>
              <td>Question remaining</td>
            </tr>
            <tr style="background-color: #99ccff">
              <% total = Question.count %>
              <% user_total = current_user.user_inputs %>
              <td>All Categories</td>
              <td><%= total %></td>
              <td><%= user_total.count %></td>
              <td><%= user_total.correct_answers.count %></td>
              <td><%= user_total.incorrect_answers.count %></td>
              <td><%= total - user_total.count %></td>
            <tr>
            <% @categories.each do |category| %>
              <tr>
                <% category_total = category.questions.count %>
                <% user_category_total = current_user.user_inputs.where(question: category.questions) %>
                <td><%= category.name %></td>
                <td><%= category.questions.count %></td>
                <td><%= user_category_total.count %></td>
                <td><%= user_category_total.correct_answers.count %></td>
                <td><%= user_category_total.incorrect_answers.count %></td>
                <td><%= category_total - user_category_total.count %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
      <div class="big-font"><b><u>Your Progress</u></b></div><hr>
      <% cls, text = current_user.calculate_progress %>
      <% if cls == "positive-review" %>
        <p class = "positive-review"><b><%= text %></b></p>
      <% else %>
        <p class = "negative-review"><b><%= text %></b></p>
      <% end %>
    </center>
  </div>
</div>
